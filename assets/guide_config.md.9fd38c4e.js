import{_ as s,o as n,c as a,e as o}from"./app.32f1c884.js";const D=JSON.parse('{"title":"Configurations \u914D\u7F6E","description":"","frontmatter":{},"headers":[{"level":3,"title":"Event Filters","slug":"event-filters"},{"level":3,"title":"Reactive Timing \u54CD\u5E94\u5F0F\u65F6\u673A","slug":"reactive-timing-\u54CD\u5E94\u5F0F\u65F6\u673A"},{"level":3,"title":"Configurable Global Dependencies \u53EF\u914D\u7F6E\u7684\u5168\u5C40\u4F9D\u8D56","slug":"configurable-global-dependencies-\u53EF\u914D\u7F6E\u7684\u5168\u5C40\u4F9D\u8D56"}],"relativePath":"guide/config.md"}'),l={name:"guide/config.md"},p=o(`<h1 id="configurations-\u914D\u7F6E" tabindex="-1">Configurations \u914D\u7F6E <a class="header-anchor" href="#configurations-\u914D\u7F6E" aria-hidden="true">#</a></h1><p>These show the general configurations for most of the functions in VueUse.</p><p>\u4E0B\u8FF0\u5185\u5BB9\u663E\u793A\u4E86 Vuese \u4E2D\u5927\u90E8\u5206\u51FD\u6570\u7684\u901A\u7528\u914D\u7F6E\u3002</p><h3 id="event-filters" tabindex="-1">Event Filters <a class="header-anchor" href="#event-filters" aria-hidden="true">#</a></h3><p>From v4.0, we provide the Event Filters system to give the flexibility to control when events will get triggered. For example, you can use <code>throttleFilter</code> and <code>debounceFilter</code> to control the event trigger rate:</p><p>\u4ECE 4.0 \u7248\u672C\u5F00\u59CB\uFF0C\u6211\u4EEC\u63D0\u4F9B\u4E86 Event Filters \u7CFB\u7EDF\u6765\u7075\u6D3B\u63A7\u5236\u4E8B\u4EF6\u7684\u89E6\u53D1\u65F6\u673A\u3002\u4F8B\u5982\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 <code>throttleFilter</code> \u548C <code>debounceFilter</code> \u6765\u63A7\u5236\u4E8B\u4EF6\u89E6\u53D1\u7387\uFF1A</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">debounceFilter</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">throttleFilter</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">useLocalStorage</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">useMouse</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// changes will write to localStorage with a throttled 1s</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">storage</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">useLocalStorage</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;my-key&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">foo</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;bar&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">},</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">eventFilter</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">throttleFilter</span><span style="color:#858585;">(</span><span style="color:#6394BF;">1000</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// mouse position will be updated after mouse idle for 100ms</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">x</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">y</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">useMouse</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">eventFilter</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">debounceFilter</span><span style="color:#858585;">(</span><span style="color:#6394BF;">100</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">debounceFilter</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">throttleFilter</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">useLocalStorage</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">useMouse</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// changes will write to localStorage with a throttled 1s</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">storage</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">useLocalStorage</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;my-key&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">foo</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;bar&#39;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">eventFilter</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">throttleFilter</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1000</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// mouse position will be updated after mouse idle for 100ms</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">x</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">y</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">useMouse</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#B58451;">eventFilter</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">debounceFilter</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span></code></pre></div><p>Moreover, you can utilize <code>pausableFilter</code> to temporarily pause some events.</p><p>\u6B64\u5916\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>pausableFilter</code> \u4E34\u65F6\u505C\u6B62\u67D0\u4E9B\u4E8B\u4EF6\u3002</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">pausableFilter</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">useDeviceMotion</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">motionControl</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">pausableFilter</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">motion</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">useDeviceMotion</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">eventFilter</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">motionControl</span><span style="color:#858585;">.</span><span style="color:#B8A965;">eventFilter</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B8A965;">motionControl</span><span style="color:#858585;">.</span><span style="color:#A1B567;">pause</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// motion updates paused</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B8A965;">motionControl</span><span style="color:#858585;">.</span><span style="color:#A1B567;">resume</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// motion updates resumed</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">pausableFilter</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">useDeviceMotion</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">motionControl</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">pausableFilter</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">motion</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">useDeviceMotion</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#B58451;">eventFilter</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">motionControl</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">eventFilter</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">motionControl</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">pause</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// motion updates paused</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">motionControl</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">resume</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// motion updates resumed</span></span>
<span class="line"></span></code></pre></div><h3 id="reactive-timing-\u54CD\u5E94\u5F0F\u65F6\u673A" tabindex="-1">Reactive Timing \u54CD\u5E94\u5F0F\u65F6\u673A <a class="header-anchor" href="#reactive-timing-\u54CD\u5E94\u5F0F\u65F6\u673A" aria-hidden="true">#</a></h3><p>VueUse&#39;s functions follow Vue&#39;s reactivity system defaults for <a href="https://vuejs.org/guide/essentials/watchers.html#callback-flush-timing" target="_blank" rel="noopener noreferrer">flush timing</a> where possible.</p><p>Vueuse \u7684\u51FD\u6570\u5C3D\u53EF\u80FD\u7684\u9075\u5FAA\u4E86 Vue \u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7684\u9ED8\u8BA4 <a href="https://vuejs.org/guide/essentials/watchers.html#callback-flush-timing" target="_blank" rel="noopener noreferrer">flush timing \uFF08\u89E6\u53D1\u65F6\u673A\uFF09</a></p><p>For <code>watch</code>-like composables (e.g. <code>pausableWatch</code>, <code>whenever</code>, <a href="/vueuse-cn/core/useStorage/"><code>useStorage</code></a> <a href="/vueuse-cn/core/useRefHistory/"><code>useRefHistory</code></a> the default is <code>{ flush: &#39;pre&#39; }</code>. Which means they will buffer invalidated effects and flush them asynchronously. This avoids unnecessary duplicate invocation when there are multiple state mutations happening in the same &quot;tick&quot;.</p><p>\u5BF9\u4E8E\u7C7B <code>watch</code> \u7684\u7EC4\u5408\u51FD\u6570\uFF08\u4F8B\u5982 <code>pausableWatch</code>, <code>whenever</code>, <a href="/vueuse-cn/core/useStorage/"><code>useStorage</code></a> <a href="/vueuse-cn/core/useRefHistory/"><code>useRefHistory</code></a>\uFF09\u7684\u9ED8\u8BA4\u9009\u9879\u662F <code>{ flush: &#39;pre&#39; }</code>\u3002\u8FD9\u610F\u5473\u7740\u5B83\u4EEC\u5C06\u63A8\u8FDF\u65E0\u6548\u7684\u6548\u679C\u5E76\u5F02\u6B65\u5237\u65B0\u5B83\u4EEC\u3002\u5F53\u540C\u4E00\u4E2A \u201Ctick\u201D \u4E2D\u53D1\u751F\u591A\u6B21\u72B6\u6001\u6539\u53D8\u65F6\uFF0C\u8FD9\u907F\u514D\u4E86\u4E0D\u5FC5\u8981\u7684\u91CD\u590D\u8C03\u7528\u3002</p><p>In the same way as with <code>watch</code>, VueUse allows you to configure the timing by passing the <code>flush</code> option:</p><p>\u540C <code>watch</code> \u7684\u4F7F\u7528\u65B9\u5F0F\u4E00\u6837\uFF0C VueUse \u5141\u8BB8\u4F60\u901A\u8FC7\u4F20\u5165 <code>flush</code> \u9009\u9879\u6765\u914D\u7F6E\u89E6\u53D1\u65F6\u673A\uFF1A</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">pause</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">resume</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">pausableWatch</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">// Safely access updated DOM</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">flush</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;post&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">pause</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">resume</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">pausableWatch</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// Safely access updated DOM</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">flush</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;post&#39;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span></code></pre></div><p><strong>flush option (default: <code>&#39;pre&#39;</code>)</strong></p><ul><li><code>&#39;pre&#39;</code>: buffers invalidated effects in the same &#39;tick&#39; and flushes them before rendering</li><li><code>&#39;post&#39;</code>: async like &#39;pre&#39; but fires after component updates so you can access the updated DOM</li><li><code>&#39;sync&#39;</code>: forces the effect to always trigger synchronously</li></ul><p><strong>\u89E6\u53D1\u9009\u9879 \uFF08\u9ED8\u8BA4\u503C\uFF1A <code>&#39;pre&#39;</code>\uFF09</strong></p><ul><li><code>&#39;pre&#39;</code>: \u5728\u540C\u4E00\u4E2A \u2018tick\u2019 \u4E2D\u63A8\u8FDF\u65E0\u6548\u7684\u6548\u679C\u5E76\u5728\u6E32\u67D3\u524D\u89E6\u53D1</li><li><code>&#39;post&#39;</code>: \u5F02\u6B65\u8FC7\u7A0B\u7C7B\u4F3C\u4E8E &#39;pre&#39; \uFF0C\u4F46\u5728\u7EC4\u4EF6\u66F4\u65B0\u540E\u89E6\u53D1\uFF0C\u56E0\u6B64\u53EF\u4EE5\u8BBF\u95EE\u66F4\u65B0\u540E\u7684 DOM</li><li><code>&#39;sync&#39;</code>: \u5F3A\u5236\u6548\u679C\u59CB\u7EC8\u540C\u6B65\u89E6\u53D1</li></ul><p><strong>Note:</strong> For <code>computed</code>-like composables (e.g. <a href="/vueuse-cn/shared/syncRef/"><code>syncRef</code></a> <code>controlledComputed</code>), when flush timing is configurable, the default is changed to <code>{ flush: &#39;sync&#39; }</code> to align them with the way computed refs works in Vue.</p><p><strong>Note:</strong> \u5BF9\u4E8E\u7C7B <code>computed</code> \u7684\u7EC4\u5408\u51FD\u6570 \uFF08\u4F8B\u5982\uFF1A<a href="/vueuse-cn/shared/syncRef/"><code>syncRef</code></a> <code>controlledComputed</code>\uFF09\uFF0C\u5F53\u89E6\u53D1\u65F6\u673A\u53EF\u4EE5\u914D\u7F6E\u65F6\uFF0C \u9ED8\u8BA4\u503C\u5C06\u6539\u4E3A <code>{ flush: &#39;sync&#39; }</code> \u4EE5\u4FBF\u5C06\u5176\u548C Vue \u4E2D\u7684\u8BA1\u7B97\u5C5E\u6027\u5DE5\u4F5C\u65B9\u5F0F\u5BF9\u9F50\u3002</p><h3 id="configurable-global-dependencies-\u53EF\u914D\u7F6E\u7684\u5168\u5C40\u4F9D\u8D56" tabindex="-1">Configurable Global Dependencies \u53EF\u914D\u7F6E\u7684\u5168\u5C40\u4F9D\u8D56 <a class="header-anchor" href="#configurable-global-dependencies-\u53EF\u914D\u7F6E\u7684\u5168\u5C40\u4F9D\u8D56" aria-hidden="true">#</a></h3><p>From v4.0, functions that access the browser APIs will provide an option fields for you to specify the global dependencies (e.g. <code>window</code>, <code>document</code> and <code>navigator</code>). It will use the global instance by default, so for most of the time, you don&#39;t need to worry about it. This configure is useful when working with iframes and testing environments.</p><p>\u4ECE 4.0 \u7248\u672C\u5F00\u59CB\uFF0C\u4E3A\u8BBF\u95EE\u6D4F\u89C8\u5668 API \u7684\u51FD\u6570\u63D0\u4F9B\u4E00\u4E2A\u9009\u9879\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u6307\u5B9A\u5168\u5C40\u4F9D\u8D56\uFF08\u4F8B\u5982\uFF1A<code>window</code>, <code>document</code> \u548C <code>navigator</code>\uFF09\u3002\u8BE5\u9009\u9879\u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u5B9E\u4F8B\uFF0C\u591A\u6570\u60C5\u51B5\u4E0B\u65E0\u9700\u5173\u6CE8\u3002\u5F53\u4F7F\u7528 iframe \u548C\u6D4B\u8BD5\u73AF\u5883\u65F6\uFF0C\u6B64\u914D\u7F6E\u975E\u5E38\u6709\u7528\u3002</p><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// accessing parent context</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">parentMousePos</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">useMouse</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">window</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">window</span><span style="color:#858585;">.</span><span style="color:#B8A965;">parent</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">iframe</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">document</span><span style="color:#858585;">.</span><span style="color:#A1B567;">querySelect</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;#my-iframe&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// accessing child context</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">childMousePos</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">useMouse</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">window</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">iframe</span><span style="color:#858585;">.</span><span style="color:#B8A965;">contextWindow</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// accessing parent context</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">parentMousePos</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">useMouse</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#B58451;">window</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">window</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">parent</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">iframe</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">document</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">querySelect</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;#my-iframe&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// accessing child context</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">childMousePos</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">useMouse</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#B58451;">window</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">iframe</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">contextWindow</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span></code></pre></div><div class="language-ts"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// testing</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">mockWindow</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">/* ... */</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">x</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">y</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">useMouse</span><span style="color:#858585;">({</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">window</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">mockWindow</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">})</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// testing</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">mockWindow</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">/* ... */</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">x</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">y</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">useMouse</span><span style="color:#8E8F8B;">({</span><span style="color:#393A34;"> </span><span style="color:#B58451;">window</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">mockWindow</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"></span></code></pre></div>`,29),e=[p];function c(t,r,y,i,A,B){return n(),a("div",null,e)}var u=s(l,[["render",c]]);export{D as __pageData,u as default};
