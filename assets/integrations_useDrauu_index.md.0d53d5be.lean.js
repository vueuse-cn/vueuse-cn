import{_ as Fs,a as Ss,b as Ps}from"./chunks/FunctionInfo.db22c239.js";import{_ as ks}from"./chunks/DemoContainer.0b73ea81.js";import{l as R,Q as us,bX as Ms,bY as q,bZ as Rs,f as Ls,b_ as $s,o as Y,c as Q,a as h,F as Os,r as Ts,b as U,u as v,an as Ns,A as G,y as Is,w as Us,e as Cs,d as Vs}from"./app.32f1c884.js";import{_ as Hs}from"./chunks/Scrubber.521bd4e5.js";import"./chunks/utils.e9c2f9be.js";function hs(s,n,t,e=a=>a){return s*e(.5-n*(.5-t))}function zs(s){return[-s[0],-s[1]]}function b(s,n){return[s[0]+n[0],s[1]+n[1]]}function C(s,n){return[s[0]-n[0],s[1]-n[1]]}function E(s,n){return[s[0]*n,s[1]*n]}function qs(s,n){return[s[0]/n,s[1]/n]}function j(s){return[s[1],-s[0]]}function Gs(s,n){return s[0]*n[0]+s[1]*n[1]}function js(s,n){return s[0]===n[0]&&s[1]===n[1]}function Ks(s){return Math.hypot(s[0],s[1])}function Xs(s){return s[0]*s[0]+s[1]*s[1]}function ds(s,n){return Xs(C(s,n))}function _s(s){return qs(s,Ks(s))}function Ys(s,n){return Math.hypot(s[1]-n[1],s[0]-n[0])}function K(s,n,t){let e=Math.sin(t),a=Math.cos(t),o=s[0]-n[0],r=s[1]-n[1],l=o*a-r*e,c=o*e+r*a;return[l+n[0],c+n[1]]}function ls(s,n,t){return b(s,E(C(n,s),t))}function As(s,n,t){return b(s,E(n,t))}var{min:I,PI:Qs}=Math,Bs=.275,X=Qs+1e-4;function Js(s,n={}){let{size:t=16,smoothing:e=.5,thinning:a=.5,simulatePressure:o=!0,easing:r=u=>u,start:l={},end:c={},last:d=!1}=n,{cap:f=!0,taper:B=0,easing:x=u=>u*(2-u)}=l,{cap:i=!0,taper:p=0,easing:_=u=>--u*u*u+1}=c;if(s.length===0||t<=0)return[];let F=s[s.length-1].runningLength,J=Math.pow(t*e,2),L=[],S=[],N=s.slice(0,10).reduce((u,m)=>{let A=m.pressure;if(o){let g=I(1,m.distance/t),as=I(1,1-g);A=I(1,u+(as-u)*(g*Bs))}return(u+A)/2},s[0].pressure),D=hs(t,a,s[s.length-1].pressure,r),y,$=s[0].vector,H=s[0].point,Z=H,O=H,T=Z;for(let u=0;u<s.length;u++){let{pressure:m}=s[u],{point:A,vector:g,distance:as,runningLength:z}=s[u];if(u<s.length-1&&F-z<3)continue;if(a){if(o){let M=I(1,as/t),os=I(1,1-M);m=I(1,N+(os-N)*(M*Bs))}D=hs(t,a,m,r)}else D=t/2;y===void 0&&(y=D);let xs=z<B?x(z/B):1,ws=F-z<p?_((F-z)/p):1;if(D=Math.max(.01,D*Math.min(xs,ws)),u===s.length-1){let M=E(j(g),D);L.push(C(A,M)),S.push(b(A,M));continue}let cs=s[u+1].vector,is=Gs(g,cs);if(is<0){let M=E(j($),D);for(let os=1/13,ss=0;ss<=1;ss+=os)O=K(C(A,M),A,X*ss),L.push(O),T=K(b(A,M),A,X*-ss),S.push(T);H=O,Z=T;continue}let ys=E(j(ls(cs,g,is)),D);O=C(A,ys),(u<=1||ds(H,O)>J)&&(L.push(O),H=O),T=b(A,ys),(u<=1||ds(Z,T)>J)&&(S.push(T),Z=T),N=m,$=g}let P=s[0].point.slice(0,2),k=s.length>1?s[s.length-1].point.slice(0,2):b(s[0].point,[1,1]),es=[],W=[];if(s.length===1){if(!(B||p)||d){let u=As(P,_s(j(C(P,k))),-(y||D)),m=[];for(let A=1/13,g=A;g<=1;g+=A)m.push(K(u,P,X*2*g));return m}}else{if(!(B||p&&s.length===1))if(f)for(let m=1/13,A=m;A<=1;A+=m){let g=K(S[0],P,X*A);es.push(g)}else{let m=C(L[0],S[0]),A=E(m,.5),g=E(m,.51);es.push(C(P,A),C(P,g),b(P,g),b(P,A))}let u=j(zs(s[s.length-1].vector));if(p||B&&s.length===1)W.push(k);else if(i){let m=As(k,u,D);for(let A=1/29,g=A;g<1;g+=A)W.push(K(m,k,X*3*g))}else W.push(b(k,E(u,D)),b(k,E(u,D*.99)),C(k,E(u,D*.99)),C(k,E(u,D)))}return L.concat(W,S.reverse(),es)}function Zs(s,n={}){var t;let{streamline:e=.5,size:a=16,last:o=!1}=n;if(s.length===0)return[];let r=.15+(1-e)*.85,l=Array.isArray(s[0])?s:s.map(({x:i,y:p,pressure:_=.5})=>[i,p,_]);if(l.length===2){let i=l[1];l=l.slice(0,-1);for(let p=1;p<5;p++)l.push(ls(l[0],i,p/4))}l.length===1&&(l=[...l,[...b(l[0],[1,1]),...l[0].slice(2)]]);let c=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],d=!1,f=0,B=c[0],x=l.length-1;for(let i=1;i<l.length;i++){let p=o&&i===x?l[i].slice(0,2):ls(B.point,l[i],r);if(js(B.point,p))continue;let _=Ys(p,B.point);if(f+=_,i<x&&!d){if(f<a)continue;d=!0}B={point:p,pressure:l[i][2]>=0?l[i][2]:.5,vector:_s(C(B.point,p)),distance:_,runningLength:f},c.push(B)}return c[0].vector=((t=c[1])==null?void 0:t.vector)||[0,0],c}function Ws(s,n={}){return Js(Zs(s,n),n)}var sn=Ws,nn=Object.defineProperty,gs=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,fs=(s,n,t)=>n in s?nn(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t,rs=(s,n)=>{for(var t in n||(n={}))tn.call(n,t)&&fs(s,t,n[t]);if(gs)for(var t of gs(n))en.call(n,t)&&fs(s,t,n[t]);return s},an=()=>({events:{},emit(s,...n){(this.events[s]||[]).forEach(t=>t(...n))},on(s,n){return(this.events[s]=this.events[s]||[]).push(n),()=>this.events[s]=(this.events[s]||[]).filter(t=>t!==n)}});function ns(s,n){return s-n}function on(s){return s<0?-1:1}function ts(s){return[Math.abs(s),on(s)]}function Es(){const s=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${s()+s()}-${s()}-${s()}-${s()}-${s()}${s()}${s()}`}var ln=2,w=ln,V=class{constructor(s){this.drauu=s,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(s){}onUnselected(){}onStart(s){}onMove(s){return!1}onEnd(s){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(s){var n,t;const e=this.drauu.el,a=(n=this.drauu.options.coordinateScale)!=null?n:1;if(this.drauu.options.coordinateTransform===!1){const o=this.drauu.el.getBoundingClientRect();return{x:(s.pageX-o.left)*a,y:(s.pageY-o.top)*a,pressure:s.pressure}}else{const o=this.drauu.svgPoint;o.x=s.clientX,o.y=s.clientY;const r=o.matrixTransform((t=e.getScreenCTM())==null?void 0:t.inverse());return{x:r.x*a,y:r.y*a,pressure:s.pressure}}}createElement(s,n){var t;const e=document.createElementNS("http://www.w3.org/2000/svg",s),a=n?rs(rs({},this.brush),n):this.brush;return e.setAttribute("fill",(t=a.fill)!=null?t:"transparent"),e.setAttribute("stroke",a.color),e.setAttribute("stroke-width",a.size.toString()),e.setAttribute("stroke-linecap","round"),a.dasharray&&e.setAttribute("stroke-dasharray",a.dasharray),e}attr(s,n){this.el.setAttribute(s,typeof n=="string"?n:n.toFixed(w))}_setEvent(s){this.event=s,this.point=this.getMousePosition(s)}_eventDown(s){return this._setEvent(s),this.start=this.point,this.onStart(this.point)}_eventMove(s){return this._setEvent(s),this.onMove(this.point)}_eventUp(s){return this._setEvent(s),this.onEnd(this.point)}},rn=class extends V{constructor(){super(...arguments),this.points=[]}onStart(s){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[s],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(s){return this.el||this.onStart(s),this.points[this.points.length-1]!==s&&this.points.push(s),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const s=this.el;return this.el=null,!!s}getSvgData(s){const n=sn(s,rs({size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},this.brush.stylusOptions));if(!n.length)return"";const t=n.reduce((e,[a,o],r,l)=>{const[c,d]=l[(r+1)%l.length];return e.push(a,o,(a+c)/2,(o+d)/2),e},["M",...n[0],"Q"]);return t.push("Z"),t.map(e=>typeof e=="number"?e.toFixed(2):e).join(" ")}},pn=class extends V{onStart(s){return this.el=this.createElement("ellipse"),this.attr("cx",s.x),this.attr("cy",s.y),this.el}onMove(s){if(!this.el||!this.start)return!1;let[n,t]=ts(s.x-this.start.x),[e,a]=ts(s.y-this.start.y);if(this.shiftPressed){const o=Math.min(n,e);n=o,e=o}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",n),this.attr("ry",e);else{const[o,r]=[this.start.x,this.start.x+n*t].sort(ns),[l,c]=[this.start.y,this.start.y+e*a].sort(ns);this.attr("cx",(o+r)/2),this.attr("cy",(l+c)/2),this.attr("rx",(r-o)/2),this.attr("ry",(c-l)/2)}return!0}onEnd(){const s=this.el;return this.el=null,!(!s||!s.getTotalLength())}};function bs(s,n){const t=document.createElementNS("http://www.w3.org/2000/svg","defs"),e=document.createElementNS("http://www.w3.org/2000/svg","marker"),a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("fill",n),e.setAttribute("id",s),e.setAttribute("viewBox","0 -5 10 10"),e.setAttribute("refX","5"),e.setAttribute("refY","0"),e.setAttribute("markerWidth","4"),e.setAttribute("markerHeight","4"),e.setAttribute("orient","auto"),a.setAttribute("d","M0,-5L10,0L0,5"),e.appendChild(a),t.appendChild(e),t}var cn=class extends V{onStart(s){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",s.x),this.attr("y1",s.y),this.attr("x2",s.x),this.attr("y2",s.y),this.brush.arrowEnd){const n=Es(),t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.append(bs(n,this.brush.color)),t.append(this.el),this.attr("marker-end",`url(#${n})`),t}return this.el}onMove(s){if(!this.el)return!1;let{x:n,y:t}=s;if(this.shiftPressed){const e=s.x-this.start.x,a=s.y-this.start.y;if(a!==0){let o=e/a;o=Math.round(o),Math.abs(o)<=1?(n=this.start.x+a*o,t=this.start.y+a):(n=this.start.x+e,t=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-n),this.attr("y1",this.start.y*2-t),this.attr("x2",n),this.attr("y2",t)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",n),this.attr("y2",t)),!0}onEnd(){const s=this.el;return this.el=null,!(!s||s.getTotalLength()<5)}},yn=class extends V{onStart(s){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",s.x),this.attr("y",s.y),this.el}onMove(s){if(!this.el||!this.start)return!1;let[n,t]=ts(s.x-this.start.x),[e,a]=ts(s.y-this.start.y);if(this.shiftPressed){const o=Math.min(n,e);n=o,e=o}if(this.altPressed)this.attr("x",this.start.x-n),this.attr("y",this.start.y-e),this.attr("width",n*2),this.attr("height",e*2);else{const[o,r]=[this.start.x,this.start.x+n*t].sort(ns),[l,c]=[this.start.y,this.start.y+e*a].sort(ns);this.attr("x",o),this.attr("y",l),this.attr("width",r-o),this.attr("height",c-l)}return!0}onEnd(){const s=this.el;return this.el=null,!(!s||!s.getTotalLength())}};function un(s,n){const t=s.x-n.x,e=s.y-n.y;return t*t+e*e}function hn(s,n,t){let e=n.x,a=n.y,o=t.x-e,r=t.y-a;if(o!==0||r!==0){const l=((s.x-e)*o+(s.y-a)*r)/(o*o+r*r);l>1?(e=t.x,a=t.y):l>0&&(e+=o*l,a+=r*l)}return o=s.x-e,r=s.y-a,o*o+r*r}function dn(s,n){let t=s[0];const e=[t];let a;for(let o=1,r=s.length;o<r;o++)a=s[o],un(a,t)>n&&(e.push(a),t=a);return t!==a&&a&&e.push(a),e}function ps(s,n,t,e,a){let o=e,r=0;for(let l=n+1;l<t;l++){const c=hn(s[l],s[n],s[t]);c>o&&(r=l,o=c)}o>e&&(r-n>1&&ps(s,n,r,e,a),a.push(s[r]),t-r>1&&ps(s,r,t,e,a))}function An(s,n){const t=s.length-1,e=[s[0]];return ps(s,0,t,n,e),e.push(s[t]),e}function Ds(s,n,t=!1){if(s.length<=2)return s;const e=n!==void 0?n*n:1;return s=t?s:dn(s,e),s=An(s,e),s}var Bn=class extends V{constructor(){super(...arguments),this.points=[],this.count=0}onStart(s){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[s],this.brush.arrowEnd){this.arrowId=Es();const n=bs(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(s){return this.el||this.onStart(s),this.points[this.points.length-1]!==s&&(this.points.push(s),this.count+=1),this.count>5&&(this.points=Ds(this.points,1,!0),this.count=0),this.attr("d",vs(this.points)),!0}onEnd(){const s=this.el;return this.el=null,!(!s||(s.setAttribute("d",vs(Ds(this.points,1,!0))),!s.getTotalLength()))}};function gn(s,n){const t=n.x-s.x,e=n.y-s.y;return{length:Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),angle:Math.atan2(e,t)}}function ms(s,n,t,e){const a=n||s,o=t||s,r=.2,l=gn(a,o),c=l.angle+(e?Math.PI:0),d=l.length*r,f=s.x+Math.cos(c)*d,B=s.y+Math.sin(c)*d;return{x:f,y:B}}function fn(s,n,t){const e=ms(t[n-1],t[n-2],s),a=ms(s,t[n-1],t[n+1],!0);return`C ${e.x.toFixed(w)},${e.y.toFixed(w)} ${a.x.toFixed(w)},${a.y.toFixed(w)} ${s.x.toFixed(w)},${s.y.toFixed(w)}`}function vs(s){return s.reduce((n,t,e,a)=>e===0?`M ${t.x.toFixed(w)},${t.y.toFixed(w)}`:`${n} ${fn(t,e,a)}`,"")}var Dn=class extends V{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(s){const n=(t,e)=>{if(t&&t.length)for(let a=0;a<t.length;a++){const o=t[a];if(o.getTotalLength){const r=o.getTotalLength();for(let l=0;l<this.pathSubFactor;l++){const c=o.getPointAtLength(r*l/this.pathSubFactor),d=o.getPointAtLength(r*(l+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:d.x,y1:c.y,y2:d.y,segment:l,element:e||o})}}else o.children&&n(o.children,o)}};s&&n(s.children)}onUnselected(){this.pathFragments=[]}onStart(s){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=s.x,this.svgPointPrevious.y=s.y}onMove(s){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=s.x,this.svgPointCurrent.y=s.y;const n=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,n}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const s=[];if(this.pathFragments.length)for(let n=0;n<this.pathFragments.length;n++){const t=this.pathFragments[n],e={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(t,e)&&(t.element.remove(),s.push(n))}return s.length&&(this.pathFragments=this.pathFragments.filter((n,t)=>!s.includes(t))),s.length>0}lineLineIntersect(s,n){const t=s.x1,e=s.x2,a=n.x1,o=n.x2,r=s.y1,l=s.y2,c=n.y1,d=n.y2,f=(t-e)*(c-d)-(r-l)*(a-o),B=(t*l-r*e)*(a-o)-(t-e)*(a*d-c*o),x=(t*l-r*e)*(c-d)-(r-l)*(a*d-c*o),i=(p,_,F)=>p>=_&&p<=F?!0:p>=F&&p<=_;if(f===0)return!1;{const p={x:B/f,y:x/f};return i(p.x,t,e)&&i(p.y,r,l)&&i(p.x,a,o)&&i(p.y,c,d)}}};function mn(s){return{draw:new Bn(s),stylus:new rn(s),line:new cn(s),rectangle:new yn(s),ellipse:new pn(s),eraseLine:new Dn(s)}}var vn=class{constructor(s={}){this.options=s,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=an(),this._models=mn(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),s.el&&this.mount(s.el,s.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(s){this._models[this.mode].onUnselected(),this.options.brush.mode=s,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(s){this.options.brush=s}resolveSelector(s){return typeof s=="string"?document.querySelector(s):s||null}mount(s,n){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(s),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const t=this.resolveSelector(n)||this.el,e=this.eventStart.bind(this),a=this.eventMove.bind(this),o=this.eventEnd.bind(this),r=this.eventKeyboard.bind(this);t.addEventListener("pointerdown",e,{passive:!1}),window.addEventListener("pointermove",a,{passive:!1}),window.addEventListener("pointerup",o,{passive:!1}),window.addEventListener("pointercancel",o,{passive:!1}),window.addEventListener("keydown",r,!1),window.addEventListener("keyup",r,!1),this._disposables.push(()=>{t.removeEventListener("pointerdown",e),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o),window.removeEventListener("keydown",r,!1),window.removeEventListener("keyup",r,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(s=>s()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(s,n){return this._emitter.on(s,n)}undo(){const s=this.el;return s.lastElementChild?(this._undoStack.push(s.lastElementChild.cloneNode(!0)),s.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var s;return!!((s=this.el)!=null&&s.lastElementChild)}eventMove(s){!this.acceptsInput(s)||!this.drawing||this.model._eventMove(s)&&(s.stopPropagation(),s.preventDefault(),this._emitter.emit("changed"))}eventStart(s){!this.acceptsInput(s)||(s.stopPropagation(),s.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(s),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(s){if(!this.acceptsInput(s)||!this.drawing)return;const n=this.model._eventUp(s);n?(n instanceof Element&&n!==this._currentNode&&(this._currentNode=n),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(s){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(s.pointerType)}eventKeyboard(s){this.shiftPressed===s.shiftKey&&this.altPressed===s.altKey||(this.shiftPressed=s.shiftKey,this.altPressed=s.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const s=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",s)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(s){this.clear(),this.el.innerHTML=s}};function Cn(s){return new vn(s)}function _n(s,n){const t=R();let e=[];const a=q(),o=q(),r=q(),l=q(),c=q(),d=R(!1),f=R(!1),B=R(!1),x=R(!1),i=R({color:"black",size:3,arrowEnd:!1,cornerRadius:0,dasharray:void 0,fill:"transparent",mode:"draw"});us(i,()=>{const y=t.value;y&&(y.brush=i.value,y.mode=i.value.mode)},{deep:!0});const p=()=>{var y;return(y=t.value)==null?void 0:y.undo()},_=()=>{var y;return(y=t.value)==null?void 0:y.redo()},F=()=>{var y;return(y=t.value)==null?void 0:y.clear()},J=()=>{var y;return(y=t.value)==null?void 0:y.cancel()},L=y=>{var $;return($=t.value)==null?void 0:$.load(y)},S=()=>{var y;return(y=t.value)==null?void 0:y.dump()},N=()=>{var y;e.forEach($=>$()),(y=t.value)==null||y.unmount()},D=()=>{t.value&&(d.value=t.value.canUndo(),f.value=t.value.canRedo(),B.value=t.value.altPressed,x.value=t.value.shiftPressed)};return us(()=>Ms(s),y=>{!y||typeof SVGSVGElement=="undefined"||!(y instanceof SVGSVGElement)||(t.value&&N(),t.value=Cn({el:y,...n}),D(),e=[t.value.on("canceled",()=>o.trigger()),t.value.on("committed",()=>r.trigger()),t.value.on("start",()=>l.trigger()),t.value.on("end",()=>c.trigger()),t.value.on("changed",()=>{D(),a.trigger()})])},{flush:"post"}),Rs(()=>N()),{drauuInstance:t,load:L,dump:S,clear:F,cancel:J,undo:p,redo:_,canUndo:d,canRedo:f,brush:i,onChanged:a.on,onCommitted:r.on,onStart:l.on,onEnd:c.on,onCanceled:o.on}}const En={flex:"~ col",place:"items-center"},bn={shadow:"~ lg",class:"drauu-demo",border:"rounded",overflow:"hidden","max-w":"screen-lg",h:"[60vh]",w:"full",flex:"~ col"},xn={bg:"$vp-c-bg",border:"1 $vp-c-divider","rounded-t":"",flex:"~ row",items:"center",p:"2",space:"x-4"},wn={flex:"~ row 1"},Fn=["onClick"],Sn={flex:"~ row 1 shrink-1",items:"center",w:"full","max-w":"64"},Pn=h("i",{"i-carbon-paint-brush":"",m:"r-2"},null,-1),kn={flex:"~ row 1",justify:"end"},Mn=["disabled"],Rn=h("i",{"i-carbon-undo":""},null,-1),Ln=[Rn],$n=["disabled"],On=h("i",{"i-carbon-redo":""},null,-1),Tn=[On],Nn=h("i",{"i-carbon-clean":""},null,-1),In=[Nn],Un={flex:"~ row 1",h:"72"},Vn={bg:"$vp-c-bg",border:"t-0 1 $vp-c-divider","rounded-b":"",flex:"~ col",space:"y-2",place:"items-center",p:"2"},Hn=h("i",{"i-carbon-pen":""},null,-1),zn=[Hn],qn=h("i",{"i-mdi-slash-forward":""},null,-1),Gn=[qn],jn=h("i",{"i-carbon-checkbox":""},null,-1),Kn=[jn],Xn=h("i",{"i-mdi-light-shape-circle":""},null,-1),Yn=[Xn],Qn=Ls({__name:"demo",setup(s){const n=R(["black","#ef4444","#22c55e","#3b82f6"]),t=R(),{undo:e,redo:a,canUndo:o,canRedo:r,clear:l,brush:c}=_n(t,{brush:{color:"black",size:3}}),{mode:d,color:f,size:B}=$s(c);return(x,i)=>(Y(),Q("div",En,[h("div",bn,[h("div",xn,[h("div",wn,[(Y(!0),Q(Os,null,Ts(n.value,p=>(Y(),Q("button",{key:p,class:G([{active:p===v(f)},"color-button"]),m:"r-1",onClick:()=>f.value=p},[h("div",{style:Is({background:p}),w:"6",h:"6",border:"2 dark:light-900 dark:opacity-50 rounded-full"},null,4)],10,Fn))),128))]),h("div",Sn,[Pn,U(Hs,{modelValue:v(B),"onUpdate:modelValue":i[0]||(i[0]=p=>Ns(B)?B.value=p:null),w:"full",min:1,max:10},null,8,["modelValue"])]),h("div",kn,[h("button",{class:"tool-button",disabled:!v(o),onClick:i[1]||(i[1]=p=>v(e)())},Ln,8,Mn),h("button",{class:"tool-button",disabled:!v(r),onClick:i[2]||(i[2]=p=>v(a)())},Tn,8,$n),h("button",{class:"tool-button",onClick:i[3]||(i[3]=p=>v(l)())},In)])]),h("div",Un,[h("div",Vn,[h("button",{class:G([{active:v(c).mode==="draw"},"tool-button"]),onClick:i[4]||(i[4]=p=>d.value="draw")},zn,2),h("button",{class:G([{active:v(c).mode==="line"&&!v(c).arrowEnd},"tool-button"]),onClick:i[5]||(i[5]=p=>d.value="line")},Gn,2),h("button",{class:G([{active:v(c).mode==="rectangle"},"tool-button"]),onClick:i[6]||(i[6]=p=>d.value="rectangle")},Kn,2),h("button",{class:G([{active:v(c).mode==="ellipse"},"tool-button"]),onClick:i[7]||(i[7]=p=>d.value="ellipse")},Yn,2)]),(Y(),Q("svg",{ref_key:"target",ref:t,w:"full",h:"full",bg:"white"},null,512))])])]))}}),Jn=Cs("",3),Zn=h("p",{class:"demo-source-link"},[h("a",{href:"https://github.com/vueuse/vueuse/blob/main/packages/integrations/useDrauu/demo.vue",target:"_blank"},"source")],-1),Wn=Cs("",12),st=h("h2",{id:"changelog",tabindex:"-1"},[Vs("Changelog "),h("a",{class:"header-anchor",href:"#changelog","aria-hidden":"true"},"#")],-1),rt=JSON.parse('{"title":"useDrauu","description":"","frontmatter":{"category":"@Integrations"},"headers":[{"level":2,"title":"Demo","slug":"demo"},{"level":2,"title":"Install","slug":"install"},{"level":2,"title":"Usage","slug":"usage"},{"level":2,"title":"Type Declarations","slug":"type-declarations"},{"level":2,"title":"Source","slug":"source"},{"level":2,"title":"Contributors","slug":"contributors"},{"level":2,"title":"Changelog","slug":"changelog"}],"relativePath":"integrations/useDrauu/index.md"}'),nt={name:"integrations/useDrauu/index.md"},pt=Object.assign(nt,{setup(s){return(n,t)=>{const e=Fs,a=ks,o=Ss,r=Ps;return Y(),Q("div",null,[Jn,U(e,{fn:"useDrauu"}),U(a,null,{default:Us(()=>[Zn,U(Qn)]),_:1}),Wn,U(o,{fn:"useDrauu"}),st,U(r,{fn:"useDrauu"})])}}});export{rt as __pageData,pt as default};
